import pandas as pd
import matplotlib.pyplot as plt

# Load data
data = pd.read_csv('KYData.csv')

# Extract relevant columns
solder_points = data[['PosX(mm)', 'PosY(mm)', 'Volume(%)', 'Area(%)', 'OffsetX(mm)', 'OffsetY(mm)', 'Result']]

# Filter data based on result
passed = solder_points[solder_points['Result'] == 'Pass']
failed = solder_points[solder_points['Result'] != 'Pass']

# Create scatter plot
plt.figure(figsize=(10, 6))
passed_scatter = plt.scatter(passed['PosX(mm)'], passed['PosY(mm)'], color='green', label='Passed', s=50)
failed_scatter = plt.scatter(failed['PosX(mm)'], failed['PosY(mm)'], color='red', label='Failed', s=50, marker='x')
plt.xlabel('X-coordinate (mm)')
plt.ylabel('Y-coordinate (mm)')
plt.title('Solder Points Map')
plt.legend()
plt.grid(True)

# Function to toggle visibility of failed points
def toggle_failed_points(event):
    if event.get_label() == 'Failed':
        failed_scatter.set_visible(not failed_scatter.get_visible())
        plt.draw()

plt.gcf().canvas.mpl_connect('pick_event', toggle_failed_points)

plt.show()
